<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>登录 </title>
    <script th:src="@{jquery-1.10.2.min.js}" type="text/javascript"></script>
    <script th:src="@{jquery.qrcode.min.js}" type="text/javascript"></script>
    <script th:src="@{creatCode.js}" type="text/javascript"></script>
    <script th:src="@{html2canvas.js}" type="text/javascript"></script>
    <script th:src="@{htmlToPic.js}" type="text/javascript"></script>
    <script type="text/javascript">
        function createQrcode(){
            var qrurl = $("#url").val();
            var code = $("#code").empty();
            if(code){
                creatCode("code","canvas",750,750,qrurl);
            }
            var mycanvas = document.getElementsByTagName("canvas")[0];
            var img = convertCanvasToImage(mycanvas);
            $("#tp").html(img);
        };
    </script>
</head>
<body>
<textarea id="url"></textarea><input type="button" value="生成二维码" onclick="createQrcode()"/>
<div id="code" style="display: none"></div>
<div id="tp" style="height: 8rem;width:8rem;"></div>
</body>
</html>